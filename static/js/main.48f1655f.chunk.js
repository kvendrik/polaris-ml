(this["webpackJsonppolaris-whiteboarder"]=this["webpackJsonppolaris-whiteboarder"]||[]).push([[0],{179:function(e,t,a){e.exports=a(392)},188:function(e,t){},190:function(e,t){},220:function(e,t){},221:function(e,t){},263:function(e,t){},264:function(e,t){},265:function(e,t){},391:function(e,t,a){},392:function(e,t,a){"use strict";a.r(t);var n=a(22),r=a.n(n),c=a(21),l=a(0),o=a.n(l),i=a(38),s=a.n(i),u=a(177),m=a(20);a(266);var f=function(){var e=Object(l.useState)(""),t=Object(c.a)(e,2),a=t[0],n=t[1],r=Object(l.useCallback)((function(e){return n(e)}),[]);return o.a.createElement(m.c,{sectioned:!0},o.a.createElement(m.g,{label:"Text field",value:a,onChange:r}))};var d=function(){return o.a.createElement(m.c,null,o.a.createElement(m.f,{resourceName:{singular:"customer",plural:"customers"},items:[{id:341,url:"customers/341",name:"Mae Jemison",location:"Decatur, USA"},{id:256,url:"customers/256",name:"Ellen Ochoa",location:"Los Angeles, USA"},{id:214,url:"customers/213",name:"John Divee",location:"Ottawa, Canada"}],renderItem:function(e){var t=e.id,a=e.url,n=e.name,r=e.location,c=o.a.createElement(m.b,{customer:!0,size:"medium",name:n});return o.a.createElement(m.e,{id:t,url:a,media:c,accessibilityLabel:"View details for ".concat(n)},o.a.createElement("h3",null,o.a.createElement(m.h,{variation:"strong"},n)),o.a.createElement("div",null,r))}}))};var h=function(e){var t=e.components,a=t.includes("Page");return o.a.createElement(m.a,null,o.a.createElement(m.d,{title:a?"Page":null,primaryAction:a?{content:"Save"}:null},t.map((function(e,t){switch(e){case"TextField":return o.a.createElement(f,{key:t});case"CustomerList":return o.a.createElement(d,{key:t})}}))))};a(391);function b(e){var t;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(u.a.load("model"));case 2:return t=a.sent,a.abrupt("return",t.detect(e));case 4:case"end":return a.stop()}}))}function p(e){var t=e.getContext("2d");t.clearRect(0,0,t.canvas.width,t.canvas.height)}function v(e,t){var a=e.getContext("2d");a.clearRect(0,0,a.canvas.width,a.canvas.height);var n="14px Open Sans",r=parseInt(n,10);a.font=n,a.textBaseline="top",a.strokeStyle="#2da15f",a.lineWidth=4,a.fillStyle="#2da15f";var l=!0,o=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(l=(s=u.next()).done);l=!0){var m=s.value,f=m.class,d=m.score,h=Object(c.a)(m.bbox,4),b=h[0],p=h[1],v=h[2],g=h[3];a.strokeRect(b,p,v,g);var w=a.measureText(T(f,d)).width;a.fillRect(b,p,w+4,r+4)}}catch(A){o=!0,i=A}finally{try{l||null==u.return||u.return()}finally{if(o)throw i}}var E=!0,k=!1,y=void 0;try{for(var O,j=t[Symbol.iterator]();!(E=(O=j.next()).done);E=!0){var x=O.value,C=x.class,S=x.score,N=Object(c.a)(x.bbox,2),R=N[0],L=N[1];a.fillStyle="#000000",a.fillText(T(C,S),R,L)}}catch(A){k=!0,y=A}finally{try{E||null==j.return||j.return()}finally{if(k)throw y}}function T(e,t){return"".concat(e," (").concat(Math.round(100*t),"%)")}}var g=document.getElementById("root");s.a.render(o.a.createElement((function(){var e=Object(l.useMemo)((function(){return new FileReader}),[]),t=Object(l.useRef)(),a=Object(l.useRef)(),n=Object(l.useRef)(),i=Object(l.useState)(""),s=Object(c.a)(i,2),u=s[0],m=s[1],f=Object(l.useState)("Click here to begin"),d=Object(c.a)(f,2),g=d[0],w=d[1],E=Object(l.useState)([]),k=Object(c.a)(E,2),y=k[0],O=k[1],j="Loading..."===g,x=Object(l.useMemo)((function(){var e=(window.innerWidth<600?window.innerWidth:600)-48;return{width:e,height:e-100}}),[window.innerWidth]),C=Object(l.useCallback)((function(t){var a=Object(c.a)(t.target.files,1)[0];a&&e.readAsDataURL(a)}),[e]);Object(l.useEffect)((function(){return e.addEventListener("load",(function(e){var t=e.target.result;return R(t)}))}),[e]);var S=Object(l.useCallback)((function(){return R("wireframe-example.jpg")}),[]),N=Object(l.useCallback)((function(){j||a.current.click()}),[j]),R=Object(l.useCallback)((function(e){var a;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(!j){c.next=2;break}return c.abrupt("return");case 2:return m(e),p(n.current),w("Loading..."),O([]),c.next=8,r.a.awrap(b(t.current));case 8:a=c.sent,console.log(a),a.length>0?(w("Click here to go again"),v(n.current,a),O(a)):w("No components detected. Please try again or check the console for the raw output.");case 11:case"end":return c.stop()}}))}),[j,n,t]),L=y.map((function(e){return e.class}));return console.log(L),o.a.createElement(o.a.Fragment,null,o.a.createElement("main",{className:"control-board"},o.a.createElement("section",{className:"intro"},o.a.createElement("p",{className:"container"},"This ",o.a.createElement("a",{href:"https://github.com/kvendrik/polaris-ml",target:"_blank",rel:"noopener noreferrer"},"experiment")," allows you to upload a ",o.a.createElement("a",{href:"https://github.com/kvendrik/polaris-ml/tree/master/training-data",target:"_blank",rel:"noopener noreferrer"},"wireframe you sketched out")," on a whiteboard and will tell you what ",o.a.createElement("a",{href:"https://polaris.shopify.com/components",target:"_blank",rel:"noopener noreferrer"},"Polaris components")," you drew and show you a prototype with those components. Don't feel like drawing? ",o.a.createElement("button",{onClick:S},"View an example"),".")),o.a.createElement("section",{className:"result-status container"},o.a.createElement("p",null,o.a.createElement("button",{className:"status",onClick:N},g),o.a.createElement("br",null),o.a.createElement("small",null,"On your phone? Take photos in landscape, it tends to work better.")),o.a.createElement("div",{className:"image-container"},o.a.createElement("canvas",{className:"image-container__canvas",ref:n,width:x.width,height:x.height}),o.a.createElement("img",{src:u,ref:t,alt:"",width:x.width,height:x.height})),o.a.createElement("input",{className:"file-picker",ref:a,type:"file",onChange:C}))),y.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("hr",null),o.a.createElement(h,{components:L})))}),null),g)}},[[179,1,2]]]);
//# sourceMappingURL=main.48f1655f.chunk.js.map